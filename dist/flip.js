/*!
 * Copyright 2016 Google Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing
 * permissions and limitations under the License.
 */
!function t(e,n,i){function s(a,o){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!o&&l)return l(a,!0);if(r)return r(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var f=n[a]={exports:{}};e[a][0].call(f.exports,function(t){var n=e[a][1][t];return s(n?n:t)},f,f.exports,t,e,n,i)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<i.length;a++)s(i[a]);return s}({1:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){var e=this,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,t);var s={duration:330,delay:0,easing:"linear",transform:!0,opacity:!0,play:"rAF"},r=Object.assign({},s,n);if("undefined"==typeof r.element)throw new Error("Element must be provided.");this.element_=r.element,this.first_={layout:null,opacity:0},this.last_={layout:null,opacity:0},this.invert_={x:0,y:0,sx:1,sy:1,a:0},this.start_=0,this.duration_=r.duration,this.delay_=r.delay,this.easing_=r.easing,this.updateTransform_=r.transform,this.updateOpacity_=r.opacity;var a=t.players_[r.play];if("undefined"==typeof a)throw new Error("Unknown player type: "+r.play);var o=Object.keys(a),l=void 0;o.forEach(function(t){l=a[t],e[t]=l.bind(e)})}return s(t,null,[{key:"extend",value:function(t,e){"undefined"==typeof this.players_&&(this.players_={}),"undefined"!=typeof this.players_[t]&&console.warn("Player with name "+t+" already exists"),"undefined"==typeof e.play_&&console.warn("Player does not contain a play_() function"),this.players_[t]=e}},{key:"group",value:function(e){if(!Array.isArray(e))throw new Error("group() expects an array of objects.");return e=e.map(function(e){return new t(e)}),{flips_:e,addClass:function(t){e.forEach(function(e){return e.addClass(t)})},removeClass:function(t){e.forEach(function(e){return e.removeClass(t)})},first:function(){e.forEach(function(t){return t.first()})},last:function(t){e.forEach(function(e,n){var i=t;Array.isArray(t)&&(i=t[n]),"undefined"!=typeof i&&e.element_.classList.add(i)}),e.forEach(function(t){return t.last()})},invert:function(){e.forEach(function(t){return t.invert()})},play:function(t){"undefined"==typeof t&&(t=window.performance.now()),e.forEach(function(e){return e.play(t)})}}}},{key:"version",get:function(){return"0.1.9"}}]),s(t,[{key:"addClass",value:function(t){"string"==typeof t&&this.element_.classList.add(t)}},{key:"removeClass",value:function(t){"string"==typeof t&&this.element_.classList.remove(t)}},{key:"snapshot",value:function(t){this.first(),this.last(t),this.invert()}},{key:"first",value:function(){this.first_.layout=this.element_.getBoundingClientRect(),this.first_.opacity=parseFloat(window.getComputedStyle(this.element_).opacity)}},{key:"last",value:function(t){"undefined"!=typeof t&&this.addClass(t),this.last_.layout=this.element_.getBoundingClientRect(),this.last_.opacity=parseFloat(window.getComputedStyle(this.element_).opacity)}},{key:"invert",value:function(){var t=[];if(null===this.first_.layout)throw new Error("You must call first() before invert()");if(null===this.last_.layout)throw new Error("You must call last() before invert()");this.invert_.x=this.first_.layout.left-this.last_.layout.left,this.invert_.y=this.first_.layout.top-this.last_.layout.top,this.invert_.sx=this.first_.layout.width/this.last_.layout.width,this.invert_.sy=this.first_.layout.height/this.last_.layout.height,this.invert_.a=this.last_.opacity-this.first_.opacity,this.updateTransform_&&(this.element_.style.transformOrigin="0 0",this.element_.style.transform="translate("+this.invert_.x+"px, "+this.invert_.y+"px)\n           scale("+this.invert_.sx+", "+this.invert_.sy+")",t.push("transform")),this.updateOpacity_&&(this.element_.style.opacity=this.first_.opacity,t.push("opacity")),this.element_.style.willChange=t.join(",")}},{key:"play",value:function(t){if(null===this.invert_)throw new Error("invert() must be called before play()");if("undefined"==typeof this.play_)throw new Error("No player specified.");this.play_(t)}},{key:"fire_",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1],n=arguments.length<=2||void 0===arguments[2]?!0:arguments[2],i=arguments.length<=3||void 0===arguments[3]?!0:arguments[3],s=new CustomEvent(t,{detail:e,bubbles:n,cancelable:i});this.element_.dispatchEvent(s)}},{key:"clamp_",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?Number.NEGATIVE_INFINITY:arguments[1],n=arguments.length<=2||void 0===arguments[2]?Number.POSITIVE_INFINITY:arguments[2];return Math.min(n,Math.max(e,t))}},{key:"cleanUpAndFireEvent_",value:function(){this.removeTransformsAndOpacity_(),this.resetFirstLastAndInvertValues_(),this.fire_("flipComplete")}},{key:"removeTransformsAndOpacity_",value:function(){this.element_.style.transformOrigin=null,this.element_.style.transform=null,this.element_.style.opacity=null,this.element_.style.willChange=null}},{key:"resetFirstLastAndInvertValues_",value:function(){this.first_.layout=null,this.first_.opacity=0,this.last_.layout=null,this.last_.opacity=0,this.invert_.x=0,this.invert_.y=0,this.invert_.sx=1,this.invert_.sy=1,this.invert_.a=0}}]),t}();n["default"]=r},{}],2:[function(t,e,n){"use strict";function i(t,e,n){var i=void 0,s=function(e){e.target===t&&(n(e),i())};return i=function(){return t.removeEventListener(e,s)},t.addEventListener(e,s),i}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={play_:function(){var t=this;if("function"==typeof this.easing_)throw new Error("The CSS player does not support passing easing as a function. Expected a string or an array of cubic-bezier control points.");Array.isArray(this.easing_)&&(this.easing_="cubic-bezier("+this.easing_.join(",")+")");var e=[];this.updateTransform_&&e.push("transform"),this.updateOpacity_&&e.push("opacity"),this.element_.offsetLeft,this.element_.style.transitionProperty=e.join(","),this.element_.style.transitionTimingFunction=this.easing_,this.element_.style.transitionDuration=this.duration_+"ms",this.element_.style.transitionDelay=this.delay_+"ms";var n=function(){t.element_.style.transitionDuration="",t.element_.style.transitionTimingFunction="",t.element_.style.transitionProperty="",t.element_.style.transitionDelay="",t.element_.classList.remove("flip-animating"),t.cleanUpAndFireEvent_()};i(this.element_,"transitionstart",function(){t.start_=window.performance.now()}),i(this.element_,"transitionend",n),i(this.element_,"transitioncancel",n),requestAnimationFrame(function(){t.start_=window.performance.now()+t.delay_,t.element_.classList.add("flip-animating"),t.updateTransform_&&(t.element_.style.transform=""),t.updateOpacity_&&(t.element_.style.opacity="")})}}},{}],3:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var s=t("./core"),r=i(s),a=t("./css"),o=i(a),l=t("./raf"),u=i(l),f=t("./gsap"),h=i(f);r["default"].extend("CSS",o["default"]),r["default"].extend("rAF",u["default"]),r["default"].extend("GSAP",h["default"]),"undefined"==typeof window.Core?window.FLIP=r["default"]:console.warn("FLIP already exists")},{"./core":1,"./css":2,"./gsap":4,"./raf":5}],4:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={play_:function(t){var e=(t||window.performance.now())/1e3,n=!0,i=!0,s=null;if(i)s=TweenMax;else{if(!n)throw new Error("GSAP requested, but TweenMax/Lite not available.");s=TweenLite}if("linear"===this.easing_)this.easing_=function(t){return t};else if("function"!=typeof this.easing_){if("undefined"==typeof this.easing_.getRatio)throw new Error("Easing function must be provided.");this.easing_=this.easing_.getRatio}var r={ease:this.easing_,onComplete:this.cleanUpAndFireEvent_.bind(this)};this.updateTransform_&&Object.assign(r,{scaleX:1,scaleY:1,x:0,y:0}),this.updateOpacity_&&Object.assign(r,{opacity:this.last_.opacity});var a=new s(this.element_,this.duration_/1e3,r);a.startTime(e+this.delay_/1e3)}}},{}],5:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={play_:function(t){if("linear"===this.easing_)this.easing_=function(t){return t};else if("function"!=typeof this.easing_)throw new Error("An easing function must be provided.");"undefined"==typeof t?this.start_=window.performance.now()+this.delay_:this.start_=t+this.delay_,requestAnimationFrame(this.update_)},update_:function(){var t=(window.performance.now()-this.start_)/this.duration_;t=this.clamp_(t,0,1);var e=this.easing_(t),n={x:this.invert_.x*(1-e),y:this.invert_.y*(1-e),sx:this.invert_.sx+(1-this.invert_.sx)*e,sy:this.invert_.sy+(1-this.invert_.sy)*e,a:this.first_.opacity+this.invert_.a*e};this.updateTransform_&&(this.element_.style.transform="translate("+n.x+"px, "+n.y+"px)\n         scale("+n.sx+", "+n.sy+")"),this.updateOpacity_&&(this.element_.style.opacity=n.a),1>t?requestAnimationFrame(this.update_):this.cleanUpAndFireEvent_()}}},{}]},{},[3]);